<div *ngIf="CmAuthControls.cust_pending_for_activation_enabled">
    <div class="row btm-border second-row-pr">
        <div class="col-7 mt-2">
            <label class="mr-2"><b>Total ESME Addr.</b></label>
            <span class="border-right">&nbsp;</span>
            <span class="ml-3 badge badge-dark"><b>{{apiResponse?.data.totalpendingesmes}}</b></span>
        </div>

        <div class="col-5 text-right">
            <input type="search" class="form-control" placeholder="&#xf002; Search by ESME Addr., Username"
                name="searchvalue" [(ngModel)]="searchvalue" />
        </div>
    </div>
    <div class="main-container table-responsive">
        <table class="table table-borderless erp-list-table row-hover-effect">
            <thead>
                <tr>
                    <th>ESME Address</th>
                    <th>User Name</th>
                    <th>Org. Name</th>
                    <th>Intl Route Type</th>
                    <th>Sales Person Name</th>
                    <th class="cursor-pointer" (click)="sort('submissiondateandtime')">Submission Date & Time
                        <i class="fa fa-caret-down"></i>
                        <i
                            [ngClass]="{'fa fa-arrow-up sorticon m-1': sortingName==='submissiondateandtime' && isDesc}"></i>
                        <i
                            [ngClass]="{'fa fa-arrow-down sorticon m-1': sortingName==='submissiondateandtime' && !isDesc}"></i>
                    </th>
                    <th>&nbsp;</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let user of apiResponse?.data.pendingesmelists
             | filter: { esmeaddr: searchvalue, username: searchvalue } |
              sort: sortingName: isDesc">
                    <td class="font-weight-semi-bold">{{user.esmeaddr}}</td>
                    <td>{{user.username}}</td>
                    <td>{{user.orgname}}</td>
                    <td>{{user.intl_routetype | titlecase}}</td>
                    <td>{{user.salespersonname}}</td>
                    <td>{{user.submissiondateandtime}}</td>
                    <td><a [routerLink]="CmAuthControls.cust_pending_acct_review_enabled ? ['/customer-management/customer-management-edit', user.esmeaddr, 'pending'] : []"><i
                               [ngClass]="{'isDisabled': !CmAuthControls.cust_pending_acct_review_enabled}" class="fa fa-paperclip" aria-hidden="true"></i></a></td>
                </tr>
                <tr *ngIf="apiResponse?.data.totalpendingesmes === 0">
                    <td colspan="7" class="text-center py-3 main-heading">No data Found</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="pt-3 center-block h-100" *ngIf="!CmAuthControls.cust_pending_for_activation_enabled">
    <div class="d-block">
        <img style="width: 150px;" src="assets/icons/icon-lock.png" alt="" />
        <span class="w-100 d-block">
            Your are not <b>Authorized</b> to access this page
        </span>
    </div>
</div>